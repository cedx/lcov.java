<?xml version="1.0"?>
<project name="lcov" default="build" xmlns:ivy="antlib:org.apache.ivy.ant">
	<xmlproperty file="ivy.xml"/>
	<property name="debug" value="false"/>
	<property name="version" value="${ivy-module.info(revision)}"/>

	<target name="build" description="Builds the project.">
		<mkdir dir="bin"/>
		<javac srcdir="src" destdir="bin" classpath="lib" debug="${debug}"/>
	</target>

	<!-- TODO -->
	<target name="clean" description="Deletes all generated files.">
		<delete dir="bin"/>
		<delete>
			<fileset dir="var" excludes=".gitkeep"/>
		</delete>
	</target>

	<!-- TODO -->
	<target name="dist" description="Packages the project.">

	</target>

	<!-- TODO -->
	<target name="doc" description="Builds the documentation.">
		<copy file="CHANGELOG.md" tofile="docs/changelog.md"/>
		<copy file="LICENSE.md" tofile="docs/license.md"/>
		<delete dir="docs/api"/>
		<javadoc packagenames="io.belin.*" sourcepath="src" destdir="docs/api"/>
		<copy file="docs/favicon.ico" todir="docs/api"/>
	</target>

	<target name="install" description="Installs the project dependencies.">
		<mkdir dir="lib"/>
		<ivy:retrieve log="download-only" sync="true"/>
	</target>

	<!-- TODO -->
	<target name="lint" description="Performs the static analysis of source code.">

	</target>

	<!-- TODO -->
	<target name="publish" description="Publishes the package.">

	</target>

	<!-- TODO -->
	<target name="run" description="Runs a main class from the &quot;example&quot; folder.">

	</target>

	<!-- TODO -->
	<target name="test" description="Runs the test suite.">

	</target>

	<target name="version" description="Updates the version number in the sources.">
		<replaceregexp file="README.md" match="project/v\d+(\.\d+){2}" replace="project/v${version}"/>
		<replaceregexp file="etc/manifest.properties" match="Version: \d+(\.\d+){2}" replace="Version: ${version}"/>
	</target>
</project>
